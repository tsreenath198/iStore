<div class="row">
  <div class="col-md-5" style="height: 550px; background-color: #343a40;">
    <table
      class="table table-dark table-sm table-striped istore-table"
      id="orderReport"
    >
      <thead>
        <tr>
          <th>Name</th>
          <th>Qty</th>
          <th>Price</th>
          <th>Discount(%)</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody *ngIf="itemList.length">
        <tr *ngFor="let item of itemList; let i = index">
          <td>
            <select disabled [(ngModel)]="item.productId" class="form-control">
              <option *ngFor="let p of productList" [ngValue]="p.id">{{
                p.name
              }}</option>
            </select>
          </td>
          <td>
            <div *ngIf="item.quantity; else no_quantity">
              <input
                type="number"
                class="form-control"
                [(ngModel)]="item.quantity"
                (change)="setTotal(item)"
              />
            </div>
            <ng-template #no_quantity>{{ item.quantity }}</ng-template>
          </td>
          <td>
            <p>{{ item.price }}</p>
          </td>
          <td>
            <div *ngIf="item.discount >= 0; else no_discount">
              <input
                type="number"
                class="form-control"
                [(ngModel)]="item.discount"
                step="5"
                max="100"
                min="0"
                (change)="setTotal(item)"
              />
            </div>
            <ng-template #no_discount>{{ item.discount }}</ng-template>
          </td>
          <td>
            <p>{{ item.total }}</p>
          </td>
        </tr>
        <tr>
          <td colspan="4">
            <p><b>Total</b></p>
          </td>
          <td>
            <p>
              <b>{{ totalBill }}</b>
            </p>
          </td>
        </tr>
        <tr *ngIf="itemList.length">
          <td></td>
          <td></td>
          <td></td>
          <td></td>
          <td><button class="btn" (click)="generateBill()">Add</button></td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="col-md-7 item-view-pane">
    <div class="row">
      <div
        *ngFor="let product of productList"
        class="col-md-3 p-2"
        style="text-align: center;"
        (click)="addToList(product)"
      >
        <h3>{{ product.name }}</h3>
        <small>{{ product.price }}.rs</small>
        <h5>{{ product.description }}</h5>
      </div>
    </div>
  </div>
</div>
